{% extends "default.html.twig" %}

{% block title %}IFÀ | conseil{% endblock %}

{% block stylesheet %}
<link href="/../public/css/advice.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    crossorigin="anonymous" referrerpolicy="no-referrer" />
{% endblock %}

{% block header %}
{% include 'header.html.twig' %}
{% endblock %}

{% block body %}
<div class="search-add">
    <div class="searchBar">
        <form action="/advice" method="get" class="search-form">
            <div class="group-search">
                <svg class="iconSearch" aria-hidden="true" viewBox="0 0 24 24">
                    <g>
                        <path
                            d="M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z">
                        </path>
                    </g>
                </svg>
                <input placeholder="Cherchez un nom, un titre" type="search" value="{{ searchQuery }}" class="search"
                    name="search">
            </div>
        </form>
    </div>
</div>

{% if isConnected and isPro %}
<div class="profilButton">
    <button id="openModalButton" class="beautiful-button">ajouter un conseil</button>
</div>
{% endif %}

<div id="profileModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <form action="/advice" method="post" id="formAdvice" enctype="multipart/form-data">
            <input type="text" name="AdviceType" placeholder="Titre, Sujet, Thème" id="inputField">

            <div style="position: relative;">
                <textarea name="AdviceDescription" placeholder="Description du service" id="inputFieldDesc"></textarea>
            </div>
            <button type="submit" name="addAdvice" id="inputField2">Soumettre le form</button>
        </form>
    </div>
</div>

<div class="adviceContainer">
    {% for Advice in adviceData %}
    <div class="advice">
        <div class="profilPictureName">
            <a href="profile-{{ Advice.IdUser }}">
                <img id="icon" src="data:image;base64,{{Advice.ProfilPicture}}" alt="icon">
                <h1>{{ Advice.FirstName }} {{ Advice.LastName }}</h1> <i id="certifIcon"
                    class="fas fa-check-circle"></i>
                <p>{{ Advice.ProfilPromotion }} </p>
            </a>
        </div>
        <div class="adviceData">
            <p>{{ Advice.AdviceType }} </p>
            <p>{{ Advice.AdviceDescription }} </p>
            <p>prix = 10 €</p>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}

{% block footer %}{% endblock %}

{% block scripts %}
<script src="/../public/js/modalUser.js"></script>
<script src="/../public/js/modalUser.js"></script>
{% endblock %}